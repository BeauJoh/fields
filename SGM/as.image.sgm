<!doctype s-function-doc system "s-function-doc.dtd" [
<!entity % S-OLD "INCLUDE">
]
>
<s-function-doc>
<s-topics>
   <s-topic>as.image</s-topic>
</s-topics>
<s-title>
Creates image from irregular x,y,z  
</s-title>
<s-description>
Discretizes a set of  2-d locations to a grid and produces a image object  
with the z values in the right cells. For cells with more than one Z
value the average is used.   
</s-description>
<s-usage>
<s-old-style-usage>
as.image(Z, ind, grid=NULL, x=NULL, nrow=64, ncol=64,weights=rep( 1,
length(Z))) 
</s-old-style-usage>
</s-usage>
<s-args-required>
<s-arg name="Z">
Values of image 
</s-arg>
</s-args-required>
<s-args-optional>
<s-arg name="ind">
A matrix giving the row and column subscripts for each image 
value in Z. (Not needed if x is specified.) 
</s-arg>
<s-arg name="grid">
A list with components x and y of equally spaced values describing the 
centers of the grid points. The default is to use nrow and ncol and the 
ranges of the data locations (x)  to construct a grid.  
</s-arg>
<s-arg name="x">
Locations of image values. Not needed if  ind  is specified.  
</s-arg>
<s-arg name="nrow">
Number of rows in image matrix ( x-axis direction) 
</s-arg>
<s-arg name="ncol">
Number of columns in image matrix ( y-axis direction) 
</s-arg>
</s-args-optional>
<s-value>
An list in image format with a few more components. Components x and y are 
the grid values , z is a 
nrow X ncol matrix 
with the Z values. NA's are placed at cell locations where Z data has 
not been supplied.  
Component ind is a 2 column matrix with subscripts for the locations of 
the values in the image matrix.  
Component N is an image matrix with the number of original values that 
fall within each grid box. 
Component weights is an image matrix with the  sum of the
individual weights for each cell.  
</s-value>
<s-details>
The discretization is straightforward once the grid is determined.  
If two or more Z values have locations in the same cell the average value 
is 
taken as the value.  See the source code to modify this to get more 
information about coincident locations. (See the call to fast.1way) 
</s-details>
<s-see>
image.smooth, image.plot, Krig.discretize, Krig.replicates, image.count  
</s-see>
<s-examples>
<s-example type = text>

# convert precip data to 50X50 image  
look<- as.image( precip$y, x= precip$x, nrow=50, ncol=50)
image.plot( look) 

# number of obs in each cell.
image.plot( look$x ,look$y, look$N, col=terrain.colors(50)) 
# hot spot is around Denver

</s-example>
</s-examples>
<s-keywords>
<s-keyword>manip</s-keyword>
</s-keywords>
<s-docclass>
function
</s-docclass>
</s-function-doc>
