<!doctype s-function-doc system "s-function-doc.dtd" [
<!entity % S-OLD "INCLUDE">
]
>
<s-function-doc>
<s-topics>
<s-topic> stats.bin </s-topic>
</s-topics>
<s-title>
Bins data and finds some summary statistics. 
</s-title>
<s-description>
Cuts up a numeric vector based on binning by a covariate and applies the
FIELDS/FUNFITS
stats function to each group 
</s-description>
<s-usage>
<s-old-style-usage>
stats.bin(x, y, N = 10, breaks = NULL)
{

</s-old-style-usage>
</s-usage>
<s-args-required>
<s-arg name= x >
Values to use to decide bin membership
</s-arg>
<s-arg name= y >
A vector of data
</s-arg>
</s-args-required>
<s-args-optional>
<s-arg name= N >
Number of bins. If the breaks is missing there are N bins equally spaced
on the range of x.
</s-arg>
<s-arg name= breaks >
The bin boundaries. If there are N+1 of these there will be N bins. 
The bin widths can be unequal.
</s-arg>
</s-args-optional>
<s-value>
A list with several components. stats is a matrix with columns indexing
the bins and
rows being summary statistics found by the stats function. These are:
 number of obs, mean, sd, min, quartiles, max and number of NA's. 
(If there is no data for a given bin, NA's are filled in. )
breaks are the breaks passed to the function and centers are the bin
centers. 
</s-value>
<s-see>
bplot, stats
</s-see>
<s-examples>
<s-example>

u<- rnorm( 2000)
v<- rnorm( 2000)
x<- u
y<- .7*u + sqrt(1-.7**2)*v

look<- stats.bin( x,y) 
look$stats["Std.Dev.",]

data( ozone2)
# make up a variogram day 16 of Midwest daily ozone ...
look<- vgram( ozone2$lon.lat, c(ozone2$y[16,]), lon.lat=T)

# break points
brk<- seq( 0, 250,,40)

out<-stats.bin( look$d, look$vgram, breaks=brk)
# plot bin means, and some quantiles  Q1, median, Q3
matplot( out$centers, t(out$stats[ c("mean", "median","Q1", "Q3"),]), 
type="l",lty=c(1,2,2,2), col=c(3,4,3,4), ylab="ozone PPB")
</s-example>

</s-examples>
<s-keywords>
<s-keyword>univar</s-keyword>
</s-keywords>
<s-docclass>
function
</s-docclass>
</s-function-doc>
